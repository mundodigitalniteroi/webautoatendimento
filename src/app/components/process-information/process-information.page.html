<ion-content fullscreen class="ion-justify-content-center">
  <app-toolbar></app-toolbar>

  <ion-row class="ion-justify-content-center">
    <h2>Informações do processo</h2>
  </ion-row>
  <ion-row class="ion-justify-content-center">
    <ion-card>
      <ion-card-content class="info" *ngIf="informations">
        <p><b>Formulário GRV:</b> {{informations.numeroProcesso}}</p>
        <p><b>Placa:</b> {{informations.veiculo.placa}}</p>
        <p>
          <b>Marca/modelo:</b> {{informations.veiculo.marcaModelo.marcaModelo}}
        </p>
        <p>
          <b>Tipo de veículo:</b> {{informations.veiculo.tipoVeiculo.descricao}}
        </p>
        <p>
          <b>Data/hora Guarda:</b> {{informations.dataHoraGuarda |
          date:'dd/MM/YYYY HH:mm'}}
        </p>
        <p>
          <b>Pátio Destino:</b> {{informations.deposito.nome + ' | ' +
          informations.deposito.endereco }}
        </p>
        <p><b>Telefone:</b> {{informations.deposito.telefone}}</p>
      </ion-card-content>
    </ion-card>
  </ion-row>
  <ion-row class="ion-justify-content-center">
    <div class="position-aligned">
      <h3>Serviços Prestados</h3>
    </div>
  </ion-row>
  <ion-row class="ion-justify-content-center">
    <ion-card class="ion-justify-content-center">
      <ion-card-content class="table">
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              <h4><b>Tipo</b></h4>
            </ion-col>
            <ion-col size="2" class="ion-text-right">
              <h4><b>Valor</b></h4>
            </ion-col>
            <ion-col size="2" class="ion-text-right">
              <h4><b>Qtd</b></h4>
            </ion-col>
            <ion-col size="3" class="ion-text-right">
              <h4><b>Total</b></h4>
            </ion-col>
          </ion-row>
          <ng-template [ngIf]="informations">
            <ion-row
              *ngFor="let debito of  informations.faturamento.listagemServico"
            >
              <ion-col size="5">
                <p>{{debito.nomeServico}}</p>
              </ion-col>
              <ion-col size="2" class="ion-text-right">
                <p>{{debito.valorTipoServico | currency}}</p>
              </ion-col>
              <ion-col size="2" class="ion-text-right">
                <p>{{debito.quantidadeServico}}</p>
              </ion-col>
              <ion-col size="3" class="ion-text-right">
                <p>{{debito.valorFaturado | currency}}</p>
              </ion-col>
            </ion-row>
          </ng-template>

          <ion-row
            class="border ion-text-start ion-align-items-center"
            *ngIf="informations"
          >
            <ion-col size="6">
              <h4 class="result">TOTAL À PAGAR</h4>
            </ion-col>
            <ion-col class="ion-text-right" size="6">
              <h4 class="price">
                {{informations.faturamento.valorFaturado | currency}}
              </h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>
    <div class="loading" *ngIf="loading">
      <div class="lds-roller">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  </ion-row>
  <ion-row class="ion-justify-content-center">
    <ion-button class="next" [routerLink]="['/payment']"
      >EFETUAR PAGAMENTO</ion-button
    >
  </ion-row>
  <ion-row class="ion-justify-content-center">
    <ion-button fill="outline" [routerLink]="['/query']">Voltar</ion-button>
  </ion-row>
</ion-content>
